# PHP Project Template â€” Available Tools

This repository serves as a template for creating a new PHP library. It comes preconfigured with various tools to ensure code quality, testing and analysis. Below is an overview of the available tools and their respective composer scripts.

## Available Tools Overview

| **Tool**                       | **Composer Script(s)**                                        | **Description**                                                                                | **Configuration File**   |
|--------------------------------|---------------------------------------------------------------|------------------------------------------------------------------------------------------------|--------------------------|
| **esi/phpunit-coverage-check** | `code-coverage`                                               | Parses Clover output from PHPUnit to check code coverage.                                      | N/A                      |
| **infection/infection**        | `infection`                                                   | Mutation testing to ensure robustness of tests. Configured via `infection.json5`.              | `infection.json5`        |
| **PHP-CS-Fixer**               | `phpcs:check`, `phpcs:fix`                                    | Checks and fixes code style according to `.php-cs-fixer.dist.php` rules.                       | `.php-cs-fixer.dist.php` |
| **PHPStan**                    | `phpstan`                                                     | Static analysis to find bugs in code. Configured via `phpstan.neon`.                           | `phpstan.neon`           |
| **PHPUnit**                    | `phpunit`                                                     | Runs unit tests based on the configuration in `phpunit.xml`.                                   | `phpunit.xml`            |
| **vimeo/psalm**                | `psalm`, `psalm:baseline`, `psalm:security`, `psalm:shepherd` | Static analysis tool that checks for bugs, security issues, and sends results to shepherd.dev. | `psalm.xml`              |
| **rector/rector**              | `refactor:check`, `refactor:fix`                              | Tool for code refactoring with automatic fixes based on `rector.php` configuration.            | `rector.php`             |

## Tools

> [!IMPORTANT]
> All configuration files can be found in the root of the project/repository.
> It is important you check and modify a given tools' configuration file to fit the needs of your library.

### 1. **esi/phpunit-coverage-check**
- **Composer Script:** `code-coverage`
- **Description:** This tool parses the Clover output generated by PHPUnit to check the code coverage.
- **Usage:**
    - Run `composer code-coverage` in the terminal to check the code coverage based on the Clover report.

---

### 2. **infection/infection**
- **Composer Script:** `infection`
- **Description:** Mutation testing tool that helps identify areas where the tests might be insufficient. It uses the configuration in the `infection.json5` file.
- **Usage:**
    - Run `composer infection` in the terminal to start the mutation testing process.

---

### 3. **PHP-CS-Fixer**
- **Composer Scripts:**
    - `phpcs:check`: Checks the code against the coding standards.
    - `phpcs:fix`: Automatically fixes any code style issues based on the configured rules.
- **Description:** A tool to ensure the code adheres to coding standards and style rules defined in the `.php-cs-fixer.dist.php` file.
- **Usage:**
    - Run `composer phpcs:check` in the terminal to check code style.
    - Run `composer phpcs:fix` in the terminal to automatically fix code style issues.

---

### 4. **PHPStan**
- **Composer Script:** `phpstan`
- **Description:** Static analysis tool for finding bugs in your PHP code. It uses the configuration file `phpstan.neon`.
- **Usage:**
    - Run `composer phpstan` in the terminal to perform static analysis on the code.

---

### 5. **PHPUnit**
- **Composer Script:** `phpunit`
- **Description:** The testing framework for PHP. It runs unit tests defined in the `phpunit.xml` configuration file.
- **Usage:**
    - Run `composer phpunit` in the terminal to run the tests.

---

### 6. **vimeo/psalm**
- **Composer Scripts:**
    - `psalm`: Main scan for checking the codebase.
    - `psalm:baseline`: Generates a baseline file for errors you want to ignore.
    - `psalm:security`: Performs a taint analysis check for security vulnerabilities.
    - `psalm:shepherd`: Runs a scan that sends results to [shepherd.dev](https://shepherd.dev).
- **Description:** Static analysis tool for discovering issues and ensuring code quality. The configuration file for Psalm is located in `psalm.xml`.
- **Usage:**
    - Run `composer psalm` in the terminal to perform the main scan.
    - Run `composer psalm:baseline` in the terminal to generate a baseline.
    - Run `composer psalm:security` in the terminal to perform a security analysis.
    - Run `composer psalm:shepherd` in the terminal to send results to Shepherd.

---

### 7. **rector/rector**
- **Composer Scripts:**
    - `refactor:check`: Checks the code for possible improvements and refactorings.
    - `refactor:fix`: Automatically applies refactorings to the code.
- **Description:** A tool for automated code refactoring, helping to improve the structure and quality of the codebase. The configuration file is located at `rector.php`.
- **Usage:**
    - Run `composer refactor:check` in the terminal to check for refactorings.
    - Run `composer refactor:fix` in the terminal to automatically apply the fixes.
